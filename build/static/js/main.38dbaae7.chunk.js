(this["webpackJsonpsimple-mernstack-blog-front"]=this["webpackJsonpsimple-mernstack-blog-front"]||[]).push([[0],{38:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),i=n(14),a=n.n(i),l=n(4),u=n(3),o=n.n(u),j=n(0),d=function(t){var e=t.addNewBlog;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Add new blog"}),Object(j.jsxs)("form",{onSubmit:e,children:[Object(j.jsx)("label",{children:"Blog title:"}),Object(j.jsx)("input",{type:"text",required:!0}),Object(j.jsx)("label",{children:"Blog content:"}),Object(j.jsx)("textarea",{required:!0}),Object(j.jsx)("label",{children:"Blog author:"}),Object(j.jsx)("input",{type:"text",required:!0}),Object(j.jsx)("input",{type:"submit",name:"Add blog"})]})]})},b=function(t){var e=t.updateBlog,n=t.blogToUpdate;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Update blog"}),Object(j.jsxs)("form",{onSubmit:function(t){return e(t,n)},children:[Object(j.jsx)("label",{children:"Blog title:"}),Object(j.jsx)("input",{type:"text",required:!0}),Object(j.jsx)("label",{children:"Blog content:"}),Object(j.jsx)("textarea",{required:!0}),Object(j.jsx)("label",{children:"Blog author:"}),Object(j.jsx)("input",{type:"text",required:!0}),Object(j.jsx)("input",{type:"submit",name:"Add blog"})]})]})},s=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(!1),a=Object(l.a)(i,2),u=a[0],s=a[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),g=O[0],p=O[1],x=Object(c.useState)({}),f=Object(l.a)(x,2),v=f[0],m=f[1],B="/api/blogs/";Object(c.useEffect)((function(){o.a.get(B).then((function(t){return r(t.data)})).catch((function(t){return console.log(t)}))}),[]);var k=function(t){t.preventDefault();var e=n.find((function(e){return e.id===t.target.id}));m(e),p(!0)},y=function(t){t.preventDefault();var e=n.filter((function(e){return e.id!==t.target.id}));o.a.delete(B+t.target.id).then((function(){return r(e)})).catch((function(t){return console.log(t)}))};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Blogs"}),!u&&!g&&Object(j.jsx)("button",{onClick:function(t){t.preventDefault(),s(!0)},children:"Add new blog"}),!u&&!g&&n.map((function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t.title}),Object(j.jsx)("p",{children:t.author}),Object(j.jsx)("button",{id:t.id,onClick:y,children:"delete"}),Object(j.jsx)("button",{id:t.id,onClick:k,children:"update"})]},t.id)})),u&&Object(j.jsx)(d,{addNewBlog:function(t){t.preventDefault(),s(!1);var e={title:t.target[0].value,content:t.target[1].value,author:t.target[2].value};o.a.post(B,e).then((function(t){return r(n.concat(t.data))})).catch((function(t){return console.log(t)}))}}),g&&Object(j.jsx)(b,{updateBlog:function(t,e){t.preventDefault();var c={title:t.target[0].value,content:t.target[1].value,author:t.target[2].value},i=n.map((function(n){return n.id===e.id&&(n.title=t.target[0].value,n.content=t.target[1].value,n.author=t.target[2].value),n}));o.a.put(B+e.id,c).then((function(){return r(i)})).catch((function(t){return console.log(t)})),p(!1)},blogToUpdate:v})]})};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(s,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.38dbaae7.chunk.js.map